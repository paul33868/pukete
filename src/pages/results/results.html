<ion-header>
  <ion-navbar>
    <button ion-button
            menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{dictionary?.results?.title}}</ion-title>
    <ion-buttons right>
      <button ion-button
              icon-only
              (click)="share()">
        <ion-icon name="share"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item>
      <h2 class="event-total">{{dictionary?.results?.totalFor}} {{event?.name}}: <strong>{{defaultCurrency}}{{event?.total | number:'1.2-2'}}</strong></h2>
      <div *ngFor="let expense of event?.expenses">
        <p class="person-gives"
           *ngIf="expense.persons === 0 && expense.total > 0">{{dictionary?.results?.attention}} <strong>{{expense.name}}</strong> {{dictionary?.results?.noConsumption}}</p>
      </div>

    </ion-item>
    <ion-item *ngFor="let person of event?.persons"
              (click)="showHideExpenseDetails(person)">
      <h2><strong>{{person.name}} </strong>{{dictionary?.results?.spentInTotal}}<strong>{{defaultCurrency}}{{person.totalSpent | number:'1.2-2'}}</strong>{{dictionary?.results?.and}}</h2>
      <h1 [ngClass]="{'person-gets': person.balance > 0, 'person-gives': person.balance < 0, 'person-equal': person.balance == 0}">
        <span *ngIf="person.balance >= 0">{{dictionary?.results?.gets}} {{defaultCurrency}}{{person.balance | number:'1.2-2'}}</span>
        <span *ngIf="person.balance < 0">{{dictionary?.results?.gives}} {{defaultCurrency}}{{-person.balance | number:'1.2-2'}}</span>
      </h1>
      <div *ngIf="personIDToDisplay === person.id && person.arrowToDisplayed === 'arrow-dropup-circle'">
        <p class="payment-details"
           *ngFor="let personExpense of person.expenses">
          {{dictionary?.results?.paid}}
          <strong>{{defaultCurrency}}{{personExpense?.amount | number:'1.2-2'}}</strong> {{dictionary?.results?.for}}
          <strong>{{personExpense?.expense?.name}}</strong> {{dictionary?.results?.and}}
          <strong *ngIf="personExpense?.isIn">{{dictionary?.results?.counted}}</strong>
          <strong *ngIf="!personExpense?.isIn">{{dictionary?.results?.notCounted}}</strong>
        </p>
      </div>
      <ion-icon name="{{person.arrowToDisplayed}}"
                item-end></ion-icon>
    </ion-item>

  </ion-list>
</ion-content>